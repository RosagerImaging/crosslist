# Debugging Module Installation Configuration Template
# This file defines how the module gets installed into a BMAD system

module_name: "Debugging Module"
module_code: "debug"
author: "joel"
installation_date: "system-generated"
bmad_version_required: "6.0.0"

# Module metadata
metadata:
  description: "This module will cover every aspect of debugging; error identification, resolution, prevention; and test coverage."
  category: "Technical (devops, testing, architecture)"
  tags: ["debugging", "AI", "agents", "testing", "devops"]
  homepage: ""
  license: "MIT"

# Pre-installation checks
pre_install_checks:
  - name: "Check BMAD version"
    type: "version_check"
    minimum: "6.0.0"

  - name: "Check dependencies"
    type: "module_check"
    required_modules: [] # List any required modules

  - name: "Check disk space"
    type: "disk_check"
    required_mb: 50

# Installation steps
install_steps:
  - name: "Create module directories"
    action: "mkdir"
    paths:
      - "{project-root}/.bmad/debug"
      - "{project-root}/.bmad/debug/data"
      - "{project-root}/.bmad/debug/agents"
      - "{project-root}/.bmad/debug/workflows"
      - "{project-root}/.bmad/debug/workflows/circular-edit-intervention"
      - "{project-root}/.bmad/debug/workflows/test-coverage-gap"
      - "{project-root}/.bmad/debug/workflows/preventive-code-review"
      - "{project-root}/.bmad/debug/workflows/query-knowledge-base"
      - "{project-root}/.bmad/debug/workflows/verify-element"
      - "{project-root}/.bmad/debug/workflows/click-element"
      - "{project-root}/.bmad/debug/workflows/fill-form"
      - "{project-root}/.bmad/debug/workflows/extract-text"
      - "{project-root}/.bmad/debug/workflows/capture-evidence"
      - "{project-root}/.bmad/debug/workflows/switch-tab"
      - "{project-root}/.bmad/debug/workflows/get-intel"
      - "{project-root}/.bmad/debug/workflows/verify-environment"
      - "{project-root}/.bmad/debug/workflows/inspect-dependencies"
      - "{project-root}/.bmad/debug/workflows/install-dependencies"
      - "{project-root}/.bmad/debug/workflows/cleanse-environment"
      - "{project-root}/.bmad/debug/workflows/document-setup"
      - "{project-root}/.bmad/debug/config"
      - "{project-root}/.bmad/debug/logs"

  - name: "Copy module configuration"
    action: "copy"
    files:
      - source: "config.yaml"
        dest: "{project-root}/.bmad/debug/config.yaml"

  - name: "Copy default data files"
    action: "copy"
    optional: true
    files:
      - source: "data/*"
        dest: "{project-root}/.bmad/debug/data/"

  - name: "Register module in manifest"
    action: "register"
    manifest_path: "{project-root}/.bmad/_cfg/manifest.yaml"
    entry:
      module: "debug"
      status: "active"
      path: "{project-root}/.bmad/debug"

  - name: "Setup agent shortcuts"
    action: "create_shortcuts"
    agents: ["Detective Casey", "Loop Breaker", "The JSX Gumshoe", "The Quality Marshal", "Inspector Git-chell", "The Lead Reporter", "P.I. Playwright", "The Quartermaster"]

  - name: "Initialize module database"
    action: "exec"
    optional: true
    script: "installer.js"
    function: "initDatabase"

# External assets to install
external_assets:
  - description: "Module documentation"
    source: "assets/docs/*"
    dest: "{project-root}/docs/debug/"

  - description: "Example configurations"
    source: "assets/examples/*"
    dest: "{project-root}/examples/debug/"
    optional: true

# Module configuration defaults
default_config:
  output_folder: "{project-root}/output/debug"
  data_folder: "{project-root}/.bmad/debug/data"
  log_level: "info"
  auto_save: true
  
# Post-installation setup
post_install:
  - name: "Run initial setup"
    action: "workflow"
    workflow: "debug-setup"
    optional: true

  - name: "Generate sample data"
    action: "exec"
    script: "installer.js"
    function: "generateSamples"
    optional: true

  - name: "Verify installation"
    action: "test"
    test_command: "bmad test debug"

# Post-installation message
post_install_message: |
  âœ… Debugging Module has been installed successfully!

  ðŸš€ Quick Start:
  1. Load the main agent: `agent Detective Casey`
  2. View available commands: `*help`
  3. Run the main workflow: `workflow reactive-debug`

  ðŸ“š Documentation: {project-root}/docs/debug/README.md
  ðŸ’¡ Examples: {project-root}/examples/debug/

# Uninstall configuration
uninstall:
  preserve_user_data: true
  remove_paths:
    - "{project-root}/.bmad/debug"
    - "{project-root}/docs/debug"
  backup_before_remove: true
  unregister_from_manifest: true
